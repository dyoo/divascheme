Bugs:

String literals with escapes \\ in them don't clean up correctly.

Cleanup kills whitespace in strings.  i.e: "hello\n world" will get
collapsed into "hello\nworld"

Copy-and-paste does not use the cleanup functions at the moment.
Also cut and paste are not dedotting anymore.

   - fixed

   - However, copy-and-paste between different applications isn't right anymore.  Hmm...
   - Workaround done.

Here strings don't work.

Nested comments #| |# don't work.


Closing a "---" that doesn't have an $expr$ holder kills an sexpr that
probably shouldn't die.

Copy and paste from the interaction window, before the last unread point,
runs into our manger.

Check syntax in insert mode does not defocus as it should.  All of the
button presses should get us out of insert mode.

    - I couldn't get this to work, so as a workaround I disable Check
    Syntax while in insert mode.  See diva-link.ss's to-command-mode
    for details.


Major slowness on large files.

    - identified as parser.


Inserting a snip in Insert mode breaks.

   -- reason: the internals of insert mode and interpreter.ss are still
   very much about symbols.  Need to fix this in the next release.



Avoid using pregexp for simple string munging.  I traced a computation
that took about a second using pregexp-replace* --- the equivalent
hand-rolled code is about a millisecond.


Cursor motion:
map: expects type <proper list> as 2nd argument, given: #f; other arguments were: #<procedure:aux>

 === context ===
/home/dyoo/work/divascheme/traversal.ss:164:5
/home/dyoo/work/divascheme/interpreter.ss:655:2: eval-column-motion
/home/dyoo/work/divascheme/diva-link.ss:315:6: interpreter/imperative
/home/dyoo/work/divascheme/diva-link.ss:306:6: get&set-mred/handlers
call-with-break-parameterization

   - not sure how this is happening, or if it still is a problem: I've
changed the syntax list implemenation to compute lazily now, so it
should never be visible as #f from traversal.ss.
